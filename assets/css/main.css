@font-face {
  font-family: 'Mona Sans';
  src:
    url('/fonts/Mona-Sans.woff2') format('woff2 supports variations'),
    url('/fonts/Mona-Sans.woff2') format('woff2-variations');
  font-weight: 200 900;
  font-stretch: 75% 125%;
  font-style: oblique 0deg 12deg;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind screens;

/* Custom Emoji Styles */
img.emoji {
  display: inline-block;
  width: 1.5em;
  height: 1.5em;
  vertical-align: text-bottom;
  margin: 0 0.1em;
  object-fit: contain;
  background: transparent;
}

/* Core */
@layer base {
	:root {
		--color-primary:  60, 105, 145;
		--color-primary-hover: 54, 94, 129;
		--color-secondary: 96, 128, 63;
		--color-danger: 248, 112, 96;
	}

	/* Improved Dark Theme - softer colors, better contrast */
	.dark {
		--color-primary: 96, 165, 250; /* Lighter blue for better readability */
		--color-primary-hover: 147, 197, 253;
		--color-secondary: 134, 239, 172; /* Softer green */
	}

	/* Ocean Theme - calming blues and teals */
	.ocean {
		--color-primary: 56, 189, 248; /* Bright sky blue */
		--color-primary-hover: 125, 211, 252;
		--color-secondary: 45, 212, 191; /* Bright teal */
	}

	/* Forest Theme - natural greens */
	.forest {
		--color-primary: 52, 211, 153; /* Emerald green */
		--color-primary-hover: 110, 231, 183;
		--color-secondary: 163, 230, 53; /* Bright lime */
	}

	/* Sunset Theme - warm oranges and corals */
	.sunset {
		--color-primary: 251, 146, 60; /* Bright orange */
		--color-primary-hover: 253, 186, 116;
		--color-secondary: 252, 165, 165; /* Coral pink */
	}

	/* Purple Haze Theme - vibrant purples */
	.purple {
		--color-primary: 192, 132, 252; /* Bright purple */
		--color-primary-hover: 216, 180, 254;
		--color-secondary: 240, 171, 252; /* Bright fuchsia */
	}
	html {
		height: 100%;
		font-family: 'Mona Sans', -apple-system, BlinkMacSystemFont, "Segoe UI Adjusted", "Segoe UI", "Liberation Sans", sans-serif;
	}
	body {
		display: flex;
		flex-direction: column;
		height: 100%;
		font-size:  14px;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		@apply bg-gray-100;
	}
	/* Dark Theme - true dark mode */
	body.dark {
		background-color: #1e293b; /* Slate-800 - soft dark blue-gray */
		color: rgb(229, 231, 235); /* gray-200 */
	}

	.dark .bg-white {
		background-color: rgb(31, 41, 55) !important; /* gray-800 */
		color: rgb(229, 231, 235); /* gray-200 */
	}

	.dark .bg-gray-50 {
		background-color: rgb(55, 65, 81) !important; /* gray-700 */
	}

	.dark .bg-gray-100 {
		background-color: rgb(75, 85, 99) !important; /* gray-600 */
	}

	.dark .text-gray-900 {
		color: rgb(229, 231, 235) !important; /* gray-200 */
	}

	.dark .text-gray-800 {
		color: rgb(229, 231, 235) !important; /* gray-200 */
	}

	.dark .text-gray-700 {
		color: rgb(209, 213, 219) !important; /* gray-300 */
	}

	.dark .text-gray-600, .dark .text-gray-500 {
		color: rgb(156, 163, 175) !important; /* gray-400 */
	}

	.dark .text-gray-400 {
		color: rgb(156, 163, 175) !important; /* gray-400 */
	}

	/* Ensure all black/dark text is readable in dark mode */
	.dark .text-black {
		color: rgb(229, 231, 235) !important; /* gray-200 */
	}

	.dark input,
	.dark textarea,
	.dark select {
		color: rgb(229, 231, 235) !important; /* gray-200 */
	}

	.dark .border-gray-200 {
		border-color: rgb(75, 85, 99) !important; /* gray-600 */
	}

	.dark .border-gray-100 {
		border-color: rgb(75, 85, 99) !important; /* gray-600 */
	}

	.dark .divide-gray-100 > * + * {
		border-color: rgb(75, 85, 99) !important; /* gray-600 */
	}

	.dark .divide-gray-200 > * + * {
		border-color: rgb(75, 85, 99) !important; /* gray-600 */
	}

	/* Ocean Theme - light theme with blue tones */
	body.ocean {
		background-color: #e0f2fe; /* Sky-100 - light blue */
	}

	.ocean .bg-white {
		background-color: #f0f9ff !important; /* Sky-50 - very light blue */
	}

	.ocean .bg-gray-50 {
		background-color: #f0f9ff !important; /* Sky-50 */
	}

	.ocean .bg-gray-100 {
		background-color: #e0f2fe !important; /* Sky-100 */
	}

	/* Forest Theme - light theme with green tones */
	body.forest {
		background-color: #dcfce7; /* Green-100 - light green */
	}

	.forest .bg-white {
		background-color: #f0fdf4 !important; /* Green-50 - very light green */
	}

	.forest .bg-gray-50 {
		background-color: #f0fdf4 !important; /* Green-50 */
	}

	.forest .bg-gray-100 {
		background-color: #dcfce7 !important; /* Green-100 */
	}

	/* Sunset Theme - light theme with warm orange tones */
	body.sunset {
		background-color: #fed7aa; /* Orange-200 - warm peach */
	}

	.sunset .bg-white {
		background-color: #ffedd5 !important; /* Orange-100 - very light orange */
	}

	.sunset .bg-gray-50 {
		background-color: #ffedd5 !important; /* Orange-100 */
	}

	.sunset .bg-gray-100 {
		background-color: #fed7aa !important; /* Orange-200 */
	}

	/* Purple Theme - light theme with purple tones */
	body.purple {
		background-color: #f3e8ff; /* Purple-100 - light purple */
	}

	.purple .bg-white {
		background-color: #faf5ff !important; /* Purple-50 - very light purple */
	}

	.purple .bg-gray-50 {
		background-color: #faf5ff !important; /* Purple-50 */
	}

	.purple .bg-gray-100 {
		background-color: #f3e8ff !important; /* Purple-100 */
	}

	/* Sidebar improvements for all themes */

	/* Ocean theme sidebar */
	.ocean .bg-gray-100 {
		background-color: #bae6fd !important; /* Sky-200 - darker for headers */
	}

	.ocean .text-gray-600,
	.ocean .text-gray-500 {
		color: rgb(71, 85, 105) !important; /* Slate-600 - better contrast on light blue */
	}

	.ocean .text-gray-400 {
		color: rgb(100, 116, 139) !important; /* Slate-500 - visible on light blue */
	}

	.ocean .border-gray-200,
	.ocean .border-gray-100 {
		border-color: rgb(186, 230, 253) !important; /* Sky-200 */
	}

	.ocean .divide-gray-100 > * + * {
		border-color: rgb(186, 230, 253) !important; /* Sky-200 */
	}

	/* Forest theme sidebar */
	.forest .bg-gray-100 {
		background-color: #bbf7d0 !important; /* Green-200 - darker for headers */
	}

	.forest .text-gray-600,
	.forest .text-gray-500 {
		color: rgb(22, 101, 52) !important; /* Green-800 - better contrast */
	}

	.forest .text-gray-400 {
		color: rgb(34, 197, 94) !important; /* Green-500 - visible on light green */
	}

	.forest .border-gray-200,
	.forest .border-gray-100 {
		border-color: rgb(187, 247, 208) !important; /* Green-200 */
	}

	.forest .divide-gray-100 > * + * {
		border-color: rgb(187, 247, 208) !important; /* Green-200 */
	}

	/* Sunset theme sidebar */
	.sunset .bg-gray-100 {
		background-color: #fbbf24 !important; /* Amber-400 - darker for headers */
	}

	.sunset .text-gray-600,
	.sunset .text-gray-500 {
		color: rgb(120, 53, 15) !important; /* Orange-900 - better contrast */
	}

	.sunset .text-gray-400 {
		color: rgb(194, 65, 12) !important; /* Orange-700 - visible on warm background */
	}

	.sunset .border-gray-200,
	.sunset .border-gray-100 {
		border-color: rgb(251, 191, 36) !important; /* Amber-400 */
	}

	.sunset .divide-gray-100 > * + * {
		border-color: rgb(251, 191, 36) !important; /* Amber-400 */
	}

	/* Purple theme sidebar */
	.purple .bg-gray-100 {
		background-color: #e9d5ff !important; /* Purple-200 - darker for headers */
	}

	.purple .text-gray-600,
	.purple .text-gray-500 {
		color: rgb(88, 28, 135) !important; /* Purple-800 - better contrast */
	}

	.purple .text-gray-400 {
		color: rgb(126, 34, 206) !important; /* Purple-700 - visible on light purple */
	}

	.purple .border-gray-200,
	.purple .border-gray-100 {
		border-color: rgb(233, 213, 255) !important; /* Purple-200 */
	}

	.purple .divide-gray-100 > * + * {
		border-color: rgb(233, 213, 255) !important; /* Purple-200 */
	}

	#__nuxt {
		display: flex;
		flex: 1 1 0%;
		flex-direction: column;
		height: 100%;
	}
	a {
		position: relative;
		@apply text-primary;
	}
	a.disabled {
		@apply opacity-50 pointer-events-none;
	}
	strong {
		font-weight: 600;
	}
	pre, .pre {
		@apply p-0.5 bg-gray-50 border rounded shadow-inner-white text-pink-600 font-mono;
	}
	textarea, input[type] {
		@apply text-[16px] sm:text-base;
	}
	textarea {
		@apply p-2.5;
	}
	/* Hide scrollbar for Chrome, Safari and Opera */
	.scrollbar-hidden::-webkit-scrollbar {
		display: none;
	}
	/* Hide scrollbar for IE, Edge and Firefox */
	.scrollbar-hidden {
		-ms-overflow-style: none;  /* IE and Edge */
		scrollbar-width: none;  /* Firefox */
	}
	.loading {
		position: relative;
		background-image: linear-gradient(
			45deg,rgba(0,0,0,.2) 25%,
			transparent 25%,transparent 50%,
			rgba(0,0,0,.2) 50%,
			rgba(0,0,0,.2) 75%,transparent 75%,transparent
		);
		background-size: 30px 30px;
		animation: barberpole 1000ms linear infinite forwards;
	}
	@keyframes barberpole {
		from { background-position: 0 0; }
		to { background-position: 100% 0; }
	}
	.flashing-text {
		transform: rotate(-20deg);
		animation: FlashingText 0.5s ease-in-out infinite;
		color: #FFFF00;
		font-size: 11px;
		font-weight: bold;
		text-shadow: 0 2px 0 #383838;
		pointer-events: none;
	}
	@keyframes FlashingText {
		0% {
			transform: scale(1) rotate(-20deg);
		}
		50% {
			transform: scale(1.05) rotate(-20deg);
		}
		100% {
			transform: scale(1) rotate(-20deg);
		}
	}
	.shadow-polaroid,
	.shadow-polaroid > * {
		position: relative;
	}
	.shadow-polaroid::before {
		content: '';
		position: absolute;
		bottom: -15px;
		right: 0px;
		width: 100%;
		height: 100%;
		background: url("/img/shadow-lg.png") no-repeat bottom right;
		@apply dark:hidden;
	}
}

@layer components {
	/* Buttons */
	button {
		@apply disabled:cursor-not-allowed;
	}
	.button {
		box-shadow: inset 0 1px 0 0 rgba(255,255,255,.2);
		@apply block h-[37px] px-4 py-2 rounded transition text-sm leading-5 font-bold duration-100 ease-in-out active:shadow-inner-xs focus:border-secondary dark:focus:border-white focus:ring-2 focus:ring-secondary dark:focus:ring-white focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed dark:shadow-none;
	}
	.button-sm {
		@apply h-auto px-2 py-1 leading-4 rounded;
	}
	.button:default {
		@apply text-white bg-primary hover:bg-opacity-90;
	}
	.button.primary-25 {
		box-shadow: 0 0 0 1px rgb(0 0 0 / 0.15), inset 0 1px 0 0 rgba(255,255,255,.2);
		@apply text-white bg-primary/25 hover:bg-opacity-90;
	}
	.button.primary {
		@apply text-white bg-primary border border-black/10 dark:border-white/10 hover:bg-primary-hover;
	}
	.button.secondary {
		@apply text-white bg-secondary border border-black/10 dark:border-white/10 hover:bg-secondary/90;
	}
	.button.white {
		@apply text-gray-700 bg-white border hover:text-gray-900 hover:bg-gray-50;
	}
	.button.gray {
		@apply text-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800 border dark:border-gray-700 dark:hover:border-gray-600 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50;
	}
	.button.green {
		@apply text-white bg-green-500 border-black/10 dark:border-white/10 hover:bg-green-600 dark:hover:bg-green-400;
	}
	.button.yellow {
		@apply text-white bg-yellow-500 border-black/10 dark:border-white/10 hover:bg-yellow-600 dark:hover:bg-yellow-400;
	}
	.button.red {
		@apply text-white bg-red-500 border-black/10 dark:border-white/10 hover:bg-red-600 dark:hover:bg-red-400;
	}
	.button.outline-white {
		@apply text-white border border-white hover:bg-white hover:text-gray-900 hover:bg-opacity-90;
	}
	/* Inputs */
	.form-input {
		@apply block w-full px-3 py-1 sm:py-1.5 transition duration-100 ease-in-out border rounded shadow-inner-xs focus:ring-2 focus:outline-none focus:ring-opacity-50 disabled:opacity-50
	}
	.form-input:default {
		@apply text-gray-900 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700 dark:border-opacity-70 focus:bg-white dark:focus:bg-white focus:border-primary focus:ring-primary dark:focus:border-primary dark:focus:ring-primary
	}
	.form-input.white {
		@apply text-gray-900 placeholder-gray-400 bg-white border-gray-200 focus:bg-white focus:border-primary focus:ring-primary
	}
	.form-input.gray {
		@apply text-gray-900 placeholder-gray-400 bg-gray-100 border-gray-200 focus:bg-white focus:border-primary focus:ring-primary
	}
	.form-input.red {
		@apply text-red-900 placeholder-red-400 bg-red-50 border-red-200 focus:bg-white focus:border-red-500 focus:ring-red-500
	}
	.form-input.green {
		@apply text-green-900 placeholder-green-400 bg-green-50 border-green-200 focus:bg-white focus:border-green-500 focus:ring-green-500
	}
	.form-input.yellow {
		@apply text-yellow-900 placeholder-yellow-400 bg-red-50 border-yellow-200 focus:bg-white focus:border-yellow-500 focus:ring-yellow-500
	}
	/* Badges */
	.badge {
		@apply ml-2 px-1.5 py-0 inline-flex text-sm font-normal rounded shadow-inner-white border leading-4
	}
	.badge.badge-large {
		@apply text-sm
	}
	.badge.badge-red {
		@apply text-red-700 bg-red-100 border-red-200
	}
	.badge.badge-blue {
		@apply text-blue-700 bg-blue-100 border-blue-200
	}
	/* Voting */
	.upvoted > svg {
		fill: rgba(var(--color-primary));
	}
	.upvote:active > svg, .downvote:active > svg {
		transform: translateY(-8px);
		transition: transform 200ms cubic-bezier(.1,-.5,.6,1.2);
	}
	.downvote:active > svg {
		transform: translateY(8px);
	}
	.downvoted > svg {
		fill: rgba(var(--color-secondary));
	}
	/* Mobile Touch Targets - Minimum 44x44px for accessibility */
	@media (max-width: 768px) {
		/* Ensure all interactive elements have minimum touch target */
		button, a.button, .clickable {
			min-height: 44px;
			min-width: 44px;
		}

		/* Add padding to small icons/buttons on mobile */
		.comment button:not(.button),
		.post-actions button:not(.button) {
			padding: 0.5rem;
		}
	}

	/* Embeds */
	.lite-youtube {
		display: inline-block;
		width: 320px;
	}
}